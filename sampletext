Hi Team,

Following up on the recent discussions with the Akamai engineering group â€” hereâ€™s a quick summary of how weâ€™re handling redirects for the SAC Downloads migration to GovCloud and what Iâ€™m implementing on our side:

â¸»

ðŸ”¹ Why Akamai Canâ€™t Handle the Redirect

Akamai is enforcing client-IPâ€“based security and validation at their edge.
If CloudFront continues to proxy traffic directly to Akamai, all requests appear to originate from CloudFrontâ€™s IP ranges instead of the actual end user.
That breaks Akamaiâ€™s security checks and violates their access control model, which is why they requested that the redirect happen before traffic reaches Akamai.

â¸»

ðŸ”¹ What Weâ€™re Doing on the CloudFront Side

To align with their architecture, Iâ€™m removing the custom origin we had pointing to Akamai and instead implementing a 301 permanent redirect inside CloudFront.
This will:
	â€¢	Redirect requests for the legacy paths
	â€¢	/distribution/client/fla/*
	â€¢	/distribution/client/flw/*
to the new Akamai endpoints (https://downloads.uat.frbservices.org/fla and /flw).
	â€¢	Ensure browsers connect directly to Akamai (bypassing CloudFront proxying).
	â€¢	Preserve the current legacy URLs until user communication and final cutover occur next year.

Iâ€™ll handle this using a lightweight CloudFront Function that returns the 301 redirect at the viewer-request stage â€” no origin call or Lambda@Edge dependency needed.

â¸»

ðŸ”¹ Next Steps
	â€¢	Deploy the CloudFront Function in the UAT distribution for testing.
	â€¢	Validate redirect behavior and confirm that the browser now hits Akamai directly.
	â€¢	Once validated, promote the same configuration to higher environments before decommissioning the legacy CloudFront setup.

â¸»

Summary:
Akamai will not modify incoming traffic or perform redirects due to their edge-security model.
Weâ€™ll issue the redirect directly from CloudFront, ensuring a secure and seamless transition to Akamai while maintaining compatibility with existing URLs through the migration window.

Thanks,
Irshad
