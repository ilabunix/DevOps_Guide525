ğŸ“˜ CloudOps Chatbot â€“ Proof of Concept (POC) Design (Updated)

Objective

Build a GenAI-powered CloudOps Assistant that enables engineers to ask natural language questions during incidents and receive context-aware responses from operational playbooks stored in Confluence.

The POC:
	â€¢	Integrates with a web UI and optionally Microsoft Teams
	â€¢	Uses Claude 3 Sonnet (via Amazon Bedrock) for answer generation
	â€¢	Embeds documents using Titan Embeddings
	â€¢	Stores vector data in provisioned Amazon OpenSearch
	â€¢	Indexes content from Confluence on a scheduled basis using Lambda
	â€¢	Is fully AWS-native

â¸»

1. âš™ï¸ Architecture Overview

[User Web UI or Teams]
        â†“
    [API Gateway (HTTP API)]
        â†“
  [Query Handler Lambda Function]
        â†“
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Titan Embeddings (Bedrock)  â”‚
 â”‚ Amazon OpenSearch (Provisioned) â”‚
 â”‚ Claude 3 Sonnet (Bedrock)   â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†‘
[Scheduled Indexer Lambda Function]
        â†‘
 [Confluence API Integration]

2. ğŸ§© Component Breakdown
Layer
Component
Description
User Interface
Custom HTML Web UI / Teams
Chat interface for asking questions
API Gateway (HTTP)
Routes questions to Lambda
Knowledge Source
Confluence API
Fetches playbook pages from Confluence
Indexing (Scheduled)
Lambda (Indexer)
Parses Confluence pages and updates OpenSearch twice daily
Titan Embeddings
Converts text into vectors
Amazon OpenSearch
Stores embeddings for semantic search
Query & Retrieval
Lambda (Query)
Accepts queries, retrieves context from OpenSearch
Claude 3 Sonnet
Generates structured response using context
Logging & Monitoring
CloudWatch
Logs Lambda execution, errors, performance
(Optional) S3
Stores logs or unanswered questions (future feature)


3. ğŸ”„ Workflow Breakdown

Document Indexing (Scheduled â€“ e.g., every 12 hrs)

[Confluence API Pages] 
      â†“
[Indexer Lambda (Scheduled)]
      â†“
[Titan Embeddings via Bedrock]
      â†“
[Provisioned Amazon OpenSearch]

Query Flow (Real-time)

[User via Web UI or Teams]
      â†“
[API Gateway]
      â†“
[Query Handler Lambda]
      â†“
â†’ Titan (embedding query)
â†’ OpenSearch (vector search)
â†’ Claude 3 Sonnet (response generation)
      â†“
[Structured Answer Returned]

4. ğŸ” IAM & Security

Component
IAM Role Summary
Indexer Lambda
Scoped role to access Confluence API and Bedrock
Query Lambda
Access to Bedrock (Titan, Claude) and OpenSearch
Secrets Mgmt
Token stored in AWS Secrets Manager for Confluence
API Gateway
Optional IAM token or IP-based restriction for frontend access


5. ğŸ’° Cost Estimate (POC with provisioned OpenSearch)

5. ğŸ’° Cost Estimate (POC with provisioned OpenSearch)

Service
POC Est. Monthly
Notes
Confluence API
Free (licensed)
Used for source docs
Titan Embeddings
$1â€“3
Based on daily doc size
OpenSearch (Provisioned)
$70â€“100
Small 2-node cluster with ~50k docs
Claude 3 Sonnet
$5â€“15
Based on query count and length
Lambda (Index + Query)
$2â€“4
Scheduled and on-demand
API Gateway (HTTP)
<$1
Lightweight usage
CloudWatch
~$1â€“2
Logs, metrics
Total
$80â€“125/mo
Approximate POC operating cost


6. ğŸ§­ Future Enhancements
	â€¢	Display images from Confluence in chat UI
	â€¢	Add table rendering support in HTML frontend
	â€¢	Implement follow-up (multi-turn) context memory
	â€¢	Use categories/tags in vector metadata for filtering
	â€¢	Enable fallback to real-time Confluence query on miss
	â€¢	Add feedback UI (â€œWas this helpful?â€)





