h1. ğŸ“˜ NimbusApp Server Troubleshooting Guide â€“ Frontend, Backend, DB Nodes

This playbook provides actionable steps to resolve common server issues across the *NimbusApp* architecture â€” including frontend (UI/API), backend (processing/services), and database (RDS/PostgreSQL) nodes.

This content is indexed for the *NimbusOps Chatbot*, which can answer contextually with specific command-line instructions and AWS console navigation.

----

h2. ğŸ·ï¸ Server Roles

|| Server || Role || Hostname/Tag ||
| frontend01 | NimbusApp Web UI Server | Name=frontend01 |
| frontend02 | NimbusApp API Gateway | Name=frontend02 |
| backend01 | NimbusApp Core App Logic | Name=backend01 |
| backend02 | NimbusApp Queue Processor | Name=backend02 |
| db01 | NimbusApp PostgreSQL RDS | Name=db01 |

----

h2. ğŸš¨ Common Issues & Solutions by Server Type

----

h3. ğŸ–¥ï¸ Frontend Servers â€“ frontend01, frontend02

h4. ğŸ”§ Issue: NimbusApp UI Not Loading (502/504)

*Symptoms:*
* Browser shows *502 Bad Gateway* or *504 Timeout*.
* CloudFront/ALB shows targets as unhealthy.

*Resolution:*
# Go to *EC2 > Instances > frontend01* in AWS Console.
# SSH into the instance:
{code:bash}
ssh ec2-user@<frontend01-ip>
{code}
# Check Nginx:
{code:bash}
sudo systemctl status nginx
{code}
# Restart if down:
{code:bash}
sudo systemctl restart nginx
{code}
# Validate ALB and run:
{code:bash}
curl -I https://frontend.nimbusapp.com
{code}

----

h4. ğŸ”§ Issue: Blank Screen on React App

*Resolution:*
# SSH into frontend01:
{code:bash}
ssh ec2-user@<frontend01-ip>
{code}
# Check build directory:
{code:bash}
ls -l /var/www/html
{code}
# If empty, redeploy:
{code:bash}
cd /opt/deploy_scripts
./deploy_frontend.sh
{code}

----

h3. ğŸ”„ Backend Servers â€“ backend01, backend02

h4. ğŸ”§ Issue: NimbusApp API Endpoints Timing Out

*Symptoms:*
* Frontend errors calling backend APIs.
* No recent log activity.

*Resolution:*
# SSH into backend01:
{code:bash}
ssh ec2-user@<backend01-ip>
{code}
# Check app process:
{code:bash}
ps aux | grep app.py
{code}
# Restart if needed:
{code:bash}
sudo systemctl restart backend-app.service
{code}
# Confirm app health:
{code:bash}
curl http://localhost:8080/health
{code}

----

h4. ğŸ”§ Issue: NimbusApp Queue Not Processing

*Symptoms:*
* SQS/Redis queues backing up.
* backend02 not processing jobs.

*Resolution:*
# SSH into backend02:
{code:bash}
ssh ec2-user@<backend02-ip>
{code}
# Check logs:
{code:bash}
tail -n 100 /var/log/worker.log
{code}
# Restart the service:
{code:bash}
sudo systemctl restart worker-queue.service
{code}
# Monitor process:
{code:bash}
watch "ps aux | grep worker"
{code}

----

h3. ğŸ—„ï¸ Database Node â€“ db01 (PostgreSQL RDS)

h4. ğŸ”§ Issue: NimbusApp Backend Fails to Connect to DB

*Symptoms:*
* Logs show *connection refused* or *timeout*.

*Resolution:*
# Go to *RDS > db01* in AWS Console.
# Check status: *Available*.
# Ensure SG allows port 5432 from backend SG.
# From backend01, test:
{code:bash}
psql -h <db-host> -U nimbus_user -d nimbus_db
{code}

----

h4. ğŸ”§ Issue: High CPU / Long Query Times

*Resolution:*
# Go to *Performance Insights > db01*.
# Identify top queries.
# Run in psql:
{code:sql}
SELECT pid, state, query FROM pg_stat_activity WHERE state != 'idle';
{code}
# Kill long-running query:
{code:sql}
SELECT pg_terminate_backend(<pid>);
{code}

----

h2. âœ… Cheat Sheet â€“ Validation Commands

|| Purpose || Command ||
| App health | {code}curl http://localhost:8080/health{code} |
| Restart backend | {code}sudo systemctl restart backend-app.service{code} |
| Logs (frontend) | {code}tail -n 100 /var/log/nginx/access.log{code} |
| Logs (backend) | {code}tail -n 100 /var/log/backend-app/app.log{code} |
| DB test | {code}psql -h <hostname> -U nimbus_user -d nimbus_db{code} |

----

h2. ğŸ§ª Admin Automation Scripts

|| Action || Script ||
| Server recovery | /admin/scripts/recover_server.sh <servername> |
| Restart Nginx | /admin/scripts/nginx_restart.sh frontend01 |
| Health check app | /opt/app/scripts/check_health.sh |

----

h2. ğŸ“ Escalation Protocol

If issue persists >15 mins:
* Post in *#oncall-nimbus*
* Include:
** Server name
** Symptoms
** Logs / errors
** Troubleshooting steps taken

----

h2. ğŸ” Sample Chatbot Queries It Can Answer

* â€œNimbusApp backend02 is not processing messagesâ€
* â€œWhy is the NimbusApp UI not loading?â€
* â€œDatabase is timing out for NimbusAppâ€