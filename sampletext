ğŸ“˜ Confluence Page: NimbusApp Server Troubleshooting Guide â€“ Frontend, Backend, DB Nodes

(Slug: playbooks/nimbusapp-server-troubleshooting)

â¸»

ğŸ§  Summary

This playbook provides actionable steps to resolve common server issues across the NimbusApp architecture â€” including frontend (UI/API), backend (processing/services), and database (RDS/PostgreSQL) nodes.

This content is indexed for the NimbusOps Chatbot, which can answer contextually with specific command-line instructions and AWS console navigation.

ğŸ·ï¸ Server Roles

Server
Role
Hostname/Tag
frontend01
NimbusApp Web UI Server
Name=frontend01
frontend02
NimbusApp API Gateway
Name=frontend02
backend01
NimbusApp Core App Logic
Name=backend01
backend02
NimbusApp Queue Processor
Name=backend02
db01
NimbusApp PostgreSQL RDS
Name=db01

ğŸš¨ Common Issues & Solutions by Server Type

â¸»

ğŸ–¥ï¸ Frontend Servers â€“ frontend01, frontend02

â¸»

ğŸ”§ Issue: NimbusApp UI Not Loading (502/504)

Symptoms:
	â€¢	Browser shows 502 Bad Gateway or 504 Timeout.
	â€¢	CloudFront/ALB shows targets as unhealthy.

Resolution:
	1.	Navigate to EC2 > Instances > frontend01 in AWS Console.
	2.	SSH into the instance:
ssh ec2-user@<frontend01-ip>
	3.	Check Nginx:
sudo systemctl status nginx

4.	Restart if down:
sudo systemctl restart nginx
	5.	Validate ALB health checks and run:
curl -I https://frontend.nimbusapp.com

ğŸ”§ Issue: Blank Screen on React App

Symptoms:
	â€¢	React build deployed, but nothing shows on browser.

Resolution:
	1.	SSH into frontend01:
ssh ec2-user@<frontend01-ip>
2.	Check if build folder exists:
ls -l /var/www/html
3.	If empty, redeploy:
cd /opt/deploy_scripts
./deploy_frontend.sh

ğŸ”„ Backend Servers â€“ backend01, backend02

â¸»

ğŸ”§ Issue: NimbusApp API Endpoints Timing Out

Symptoms:
	â€¢	Frontend errors calling backend APIs.
	â€¢	No recent log activity.

Resolution:
	1.	SSH into backend01:
ssh ec2-user@<backend01-ip>
2.	Check app process:
ps aux | grep app.py
3.	If not running:
sudo systemctl restart backend-app.service
4.	Confirm recovery:
curl http://localhost:8080/health

ğŸ”§ Issue: NimbusApp Queue Not Processing

Symptoms:
	â€¢	SQS/Redis queues backing up.
	â€¢	backend02 not consuming tasks.

Resolution:
	1.	SSH into backend02:
ssh ec2-user@<backend02-ip>
	2.	Check logs:
tail -n 100 /var/log/worker.log
3.	Restart the queue processor:
sudo systemctl restart worker-queue.service
4.	Monitor:
watch "ps aux | grep worker"


ğŸ—„ï¸ Database Node â€“ db01 (PostgreSQL RDS)

â¸»

ğŸ”§ Issue: NimbusApp Backend Fails to Connect to DB

Symptoms:
	â€¢	Logs show connection refused or timeout.

Resolution:
	1.	Open RDS > db01 in AWS Console.
	2.	Check status: should be Available.
	3.	Review security groups: must allow port 5432 from backend SG.
	4.	From backend01, test:
psql -h <db-host> -U nimbus_user -d nimbus_db

ğŸ”§ Issue: High CPU / Long Query Times

Resolution:
	1.	Open Performance Insights > db01.
	2.	Identify top queries.
	3.	From psql:
SELECT pid, state, query FROM pg_stat_activity WHERE state != 'idle';

	4.	Kill problem query:
SELECT pg_terminate_backend(<pid>);


â¸»

âœ… Cheat Sheet â€“ Validation Commands
Purpose
Command
App health
curl http://localhost:8080/health
Restart app
sudo systemctl restart backend-app.service
Logs (frontend)
tail -n 100 /var/log/nginx/access.log
Logs (backend)
tail -n 100 /var/log/backend-app/app.log
DB connect test
psql -h <hostname> -U nimbus_user -d nimbus_db


â¸»

ğŸ§ª Admin Automation Scripts
Action
Script
Server recovery
/admin/scripts/recover_server.sh <servername>
Restart Nginx
/admin/scripts/nginx_restart.sh frontend01
Health check app
/opt/app/scripts/check_health.sh

ğŸ“ Escalation Protocol

If issue persists after 15 minutes:
	â€¢	Post in #oncall-nimbus with:
	â€¢	ğŸ”¹ Server name
	â€¢	ğŸ”¹ Issue symptoms
	â€¢	ğŸ”¹ Logs or error messages
	â€¢	ğŸ”¹ Steps already taken

â¸»

ğŸ” Example Queries the Chatbot Can Now Answer Precisely

â€œNimbusApp backend02 is not processing messagesâ€
â†’ â€œTry restarting worker-queue.service on backend02 using sudo systemctl restart worker-queue.service. Check /var/log/worker.log for any job errors.â€

â€œWhy is the NimbusApp UI not loading?â€
â†’ â€œCheck if Nginx is running on frontend01. If itâ€™s down, restart it using sudo systemctl restart nginx and validate using curl -I.â€

â€œDatabase is timing out for NimbusAppâ€
â†’ â€œEnsure db01 is running and that port 5432 is allowed from backend SG. You can test from backend01 with: psql -h <db-host> -U nimbus_user -d nimbus_db.â€
