Hi Team,

Hereâ€™s a quick update on the SAC Downloads redirect setup and the approach we agreed upon with the Akamai engineering team:

â¸»

ðŸ”¹ Why Akamai Canâ€™t Handle the Redirect Before Go-Live

Akamai confirmed that implementing the redirect on their edge would require additional configuration and security-policy changes on their side â€” changes that cannot be completed before the 11/16 go-live date.
Their edge-side redirect would need updates to their Property Manager rules and validation logic, which are gated by change-control timelines.

Additionally, because Akamaiâ€™s security model validates real end-user IPs (not CloudFront proxy IPs), proxying the traffic through CloudFront causes their ACL checks to fail.
To stay aligned with their security posture and avoid delays, theyâ€™ve asked that the redirect occur within CloudFront instead of Akamai.

â¸»

ðŸ”¹ What Weâ€™re Doing on the CloudFront Side

Iâ€™m implementing a 301 permanent redirect directly in CloudFront using a lightweight CloudFront Function.
This function will intercept requests to:
	â€¢	/distribution/client/fla/*
	â€¢	/distribution/client/flw/*

â€¦and issue an HTTP 301 redirect to the corresponding Akamai URLs (https://downloads.uat.frbservices.org/fla and /flw).

This ensures:
	â€¢	Browsers connect directly to Akamai (maintaining their security controls).
	â€¢	The legacy URLs remain functional until users are notified of the new URL structure next year.
	â€¢	A clean hand-off path for eventual CloudFront decommissioning.

â¸»

ðŸ”¹ Next Steps
	â€¢	Deploy the CloudFront Function in UAT for validation.
	â€¢	Confirm redirect behavior and Akamai reachability.
	â€¢	Once tested, promote the configuration to higher environments before go-live.

â¸»

Summary:
Since Akamaiâ€™s redirect changes require more work than can be completed before 11/16, weâ€™re handling the redirect entirely on our side in CloudFront.
This approach preserves user access, meets Akamaiâ€™s IP-validation requirements, and avoids impacting the migration schedule.

Thanks,
Irshad


-------
Hi Team,

Following up on the recent discussions with the Akamai engineering group â€” hereâ€™s a quick summary of how weâ€™re handling redirects for the SAC Downloads migration to GovCloud and what Iâ€™m implementing on our side:

â¸»

ðŸ”¹ Why Akamai Canâ€™t Handle the Redirect

Akamai is enforcing client-IPâ€“based security and validation at their edge.
If CloudFront continues to proxy traffic directly to Akamai, all requests appear to originate from CloudFrontâ€™s IP ranges instead of the actual end user.
That breaks Akamaiâ€™s security checks and violates their access control model, which is why they requested that the redirect happen before traffic reaches Akamai.

â¸»

ðŸ”¹ What Weâ€™re Doing on the CloudFront Side

To align with their architecture, Iâ€™m removing the custom origin we had pointing to Akamai and instead implementing a 301 permanent redirect inside CloudFront.
This will:
	â€¢	Redirect requests for the legacy paths
	â€¢	/distribution/client/fla/*
	â€¢	/distribution/client/flw/*
to the new Akamai endpoints (https://downloads.uat.frbservices.org/fla and /flw).
	â€¢	Ensure browsers connect directly to Akamai (bypassing CloudFront proxying).
	â€¢	Preserve the current legacy URLs until user communication and final cutover occur next year.

Iâ€™ll handle this using a lightweight CloudFront Function that returns the 301 redirect at the viewer-request stage â€” no origin call or Lambda@Edge dependency needed.

â¸»

ðŸ”¹ Next Steps
	â€¢	Deploy the CloudFront Function in the UAT distribution for testing.
	â€¢	Validate redirect behavior and confirm that the browser now hits Akamai directly.
	â€¢	Once validated, promote the same configuration to higher environments before decommissioning the legacy CloudFront setup.

â¸»

Summary:
Akamai will not modify incoming traffic or perform redirects due to their edge-security model.
Weâ€™ll issue the redirect directly from CloudFront, ensuring a secure and seamless transition to Akamai while maintaining compatibility with existing URLs through the migration window.

Thanks,
Irshad
